_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[186],{"6pJ/":function(P,h,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/introduction/walkthrough",function(){return l("KJfx")}])},"7ljp":function(P,h,l){"use strict";l.d(h,"a",function(){return c}),l.d(h,"b",function(){return T});var e=l("q1tI"),s=l.n(e);function p(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function m(){return m=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},m.apply(this,arguments)}function N(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),n.push.apply(n,o)}return n}function f(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(o){p(r,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))})}return r}function g(r,t){if(r==null)return{};var n={},o=Object.keys(r),i,b;for(b=0;b<o.length;b++)i=o[b],!(t.indexOf(i)>=0)&&(n[i]=r[i]);return n}function j(r,t){if(r==null)return{};var n=g(r,t),o,i;if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(r);for(i=0;i<b.length;i++)o=b[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,o)||(n[o]=r[o]))}return n}var v=function(t){return typeof t=="function"},d=s.a.createContext({}),a=function(t){return function(n){var o=u(n.components);return s.a.createElement(t,m({},n,{components:o}))}},u=function(t){var n=s.a.useContext(d),o=n;return t&&(o=v(t)?t(n):f(f({},n),t)),o},c=function(t){var n=u(t.components);return s.a.createElement(d.Provider,{value:n},t.children)},O="mdxType",E={inlineCode:"code",wrapper:function(t){var n=t.children;return s.a.createElement(s.a.Fragment,{},n)}},C=s.a.forwardRef(function(r,t){var n=r.components,o=r.mdxType,i=r.originalType,b=r.parentName,w=j(r,["components","mdxType","originalType","parentName"]),x=u(n),y=o,D=x["".concat(b,".").concat(y)]||x[y]||E[y]||i;return n?s.a.createElement(D,f(f({ref:t},w),{},{components:n})):s.a.createElement(D,f({ref:t},w))});C.displayName="MDXCreateElement";function T(r,t){var n=arguments,o=t&&t.mdxType;if(typeof r=="string"||o){var i=n.length,b=new Array(i);b[0]=C;var w={};for(var x in t)hasOwnProperty.call(t,x)&&(w[x]=t[x]);w.originalType=r,w[O]=typeof r=="string"?r:o,b[1]=w;for(var y=2;y<i;y++)b[y]=n[y];return s.a.createElement.apply(null,b)}return s.a.createElement.apply(null,n)}},KJfx:function(P,h,l){"use strict";l.r(h),l.d(h,"meta",function(){return O}),l.d(h,"headings",function(){return E}),l.d(h,"default",function(){return r});var e=l("7ljp"),s=l("KiYJ"),p=l("3iwL"),m=Object.defineProperty,N=Object.defineProperties,f=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,d=(t,n,o)=>n in t?m(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,a=(t,n)=>{for(var o in n||(n={}))j.call(n,o)&&d(t,o,n[o]);if(g)for(var o of g(n))v.call(n,o)&&d(t,o,n[o]);return t},u=(t,n)=>N(t,f(n)),c=(t,n)=>{var o={};for(var i in t)j.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&g)for(var i of g(t))n.indexOf(i)<0&&v.call(t,i)&&(o[i]=t[i]);return o};const O={title:"Walkthrough",sidebar_title:"Walkthrough"},E=[{depth:2,type:"text",title:"Initialize a project"},{depth:2,type:"text",title:"Start the project"},{depth:2,type:"text",title:"Open the project with the Expo Go app on iOS or Android, or in your web browser"},{depth:2,type:"text",title:"Use the Expo SDK and community standard native libraries to build out native features"},{depth:2,type:"strong",title:"Configure the app with  "},{depth:2,type:"text",title:"Publish and share your app"},{depth:2,type:"text",title:"Building and deploying"},{depth:3,type:"text",title:"iOS and the Apple App Store"},{depth:3,type:"text",title:"Android and the Google Play Store"},{depth:3,type:"text",title:"Building and deploying to the web"},{depth:2,type:"text",title:"Updating the app"},{depth:2,type:"text",title:"Sending notifications"},{depth:2,type:"text",title:"Up next"}],C={meta:O,headings:E},T="wrapper";function r(t){var n=t,{components:o}=n,i=c(n,["components"]);return Object(e.b)(T,u(a(a({},C),i),{components:o,mdxType:"MDXLayout"}),Object(e.b)("p",null,"There's no need to install anything or even understand everything here, this page is meant to give you an overview of some of the big pieces of building a managed app. In the same way that getting a quick tour of Paris won't make you an expert on Paris, this walkthrough serves to help you identify a few landmarks and the most important areas in the managed workflow. You can do a walkthrough of the ",Object(e.b)("a",a({parentName:"p"},{href:"/bare/exploring-bare-workflow/"}),"bare workflow")," later on."),Object(e.b)("h2",a({},{id:"initialize-a-project"}),"Initialize a project"),Object(e.b)("p",null,"Let\u2019s get started by initializing a project. ",Object(e.b)("inlineCode",{parentName:"p"},"expo init")," gives you several options for templates, including a ",Object(e.b)("a",a({parentName:"p"},{href:"https://www.typescriptlang.org/"}),"TypeScript")," template and one with ",Object(e.b)("a",a({parentName:"p"},{href:"https://reactnavigation.org/"}),"React Navigation")," installed and configured with a tab-based navigation structure."),Object(e.b)(p.a,{file:"exploring-managed/init.mp4",spaceAfter:30,mdxType:"Video"}),Object(e.b)("blockquote",null,Object(e.b)("p",{parentName:"blockquote"},Object(e.b)("em",{parentName:"p"},"Note: You may see several ",Object(e.b)("inlineCode",{parentName:"em"},"peerDependencies")," warnings when installing the dependencies for a new project. These are caused by some external packages having overly strict or unnecessary dependencies, and it's a work in progress to clean them up. They won't cause any harm to your project."))),Object(e.b)("h2",a({},{id:"start-the-project"}),"Start the project"),Object(e.b)("p",null,"Now we just run ",Object(e.b)("inlineCode",{parentName:"p"},"yarn start")," (or ",Object(e.b)("inlineCode",{parentName:"p"},"npm start")," if you prefer that package manager) in the project directory, which delegates to ",Object(e.b)("inlineCode",{parentName:"p"},"expo start"),". You can also run ",Object(e.b)("inlineCode",{parentName:"p"},"expo start")," if you prefer! It doesn't matter at all, pick one and go with it."),Object(e.b)(p.a,{file:"exploring-managed/start.mp4",spaceAfter:!0,mdxType:"Video"}),Object(e.b)("h2",a({},{id:"open-the-project-with-the-expo-go-app-on-ios-or-android-or-in-your-web-browser"}),"Open the project with the Expo Go app on iOS or Android, or in your web browser"),Object(e.b)("p",null,"To run the app we don\u2019t need to build any native code because it runs in the ",Object(e.b)("a",a({parentName:"p"},{href:"https://expo.dev/tools#client"}),"Expo Go"),", and the CLI will automatically install it for us in the ",Object(e.b)("a",a({parentName:"p"},{href:"/workflow/ios-simulator/"}),"iOS simulator")," or on any connected ",Object(e.b)("a",a({parentName:"p"},{href:"/workflow/android-studio-emulator/"}),"Android Emulator")," or device. You can also download it from the App Store and Play Store."),Object(e.b)(p.a,{file:"exploring-managed/open.mp4",mdxType:"Video"}),Object(e.b)("p",null,"If you close the ",Object(e.b)("inlineCode",{parentName:"p"},"expo-cli")," or turn off your computer, you won't be able to access the app from your device anymore. We'll see how you can make it always available later on."),Object(e.b)("h2",a({},{id:"use-the-expo-sdk-and-community-standard-native-libraries-to-build-out-native-features"}),"Use the Expo SDK and community standard native libraries to build out native features"),Object(e.b)("p",null,"Let's scroll through the ",Object(e.b)("a",a({parentName:"p"},{href:"/../../../../../../../versions/latest"}),"API Reference")," to find packages that provide the capabilities that we need. If we know right away that the Expo SDK doesn\u2019t have the necessary native APIs built-in, then we should probably eject or re-initialize with the bare workflow template."),Object(e.b)("p",null,"Let's say we had mockups for our app that look like the following:"),Object(e.b)(s.a,{alt:"Mockups of app screens",src:"/static/images/exploring-managed/mockups.png",mdxType:"ImageSpotlight"}),Object(e.b)("blockquote",null,Object(e.b)("p",{parentName:"blockquote"},Object(e.b)("em",{parentName:"p"},"Note: These are actually screenshots from ",Object(e.b)("a",a({parentName:"em"},{href:"https://github.com/sindresorhus"}),"Sindre Sorhus'")," open source app ",Object(e.b)("a",a({parentName:"em"},{href:"https://sindresorhus.com/blear"}),"Blear"),", but let's pretend they are mockups for the sake of demonstration."))),Object(e.b)("p",null,"We can tell from looking at the mockups that we\u2019ll need a camera, access to permissions, some way to apply effects to an image, and a way to access the device media library to select images and to save images to an album. We can find equivalents for this by scrolling through the API reference."),Object(e.b)(p.a,{file:"exploring-managed/search.mp4",mdxType:"Video"}),Object(e.b)("p",null,"We have to start somewhere so let\u2019s start with the ",Object(e.b)("inlineCode",{parentName:"p"},"ImagePicker"),". There\u2019s a runnable example of it on the documentation page so let\u2019s just copy that to get something running. Before pasting it into our app we will install all of the examples\u2019 dependencies using ",Object(e.b)("inlineCode",{parentName:"p"},"expo install"),". ",Object(e.b)("inlineCode",{parentName:"p"},"expo install")," is a wrapper around npm and yarn to ensure that the version of the Expo SDK and React Native community packages that you install are compatible with your app. When we paste the code in, the app will reload and we now have a working image picker."),Object(e.b)(p.a,{file:"exploring-managed/picker.mp4",mdxType:"Video"}),Object(e.b)("p",null,"At the risk of evoking the ",Object(e.b)("a",a({parentName:"p"},{href:"https://knowyourmeme.com/memes/how-to-draw-an-owl"}),"How To Draw an Owl meme"),", let's jump right ahead to when the app is complete. To get from where we started to here you will need to read the React and React Native documentation as needed to build parts of your app, but that's too much to cover in this particular article. Find out about learning resources ",Object(e.b)("a",a({parentName:"p"},{href:"/next-steps/additional-resources/"}),"here"),"."),Object(e.b)(p.a,{file:"exploring-managed/done.mp4",mdxType:"Video"}),Object(e.b)("p",null,"We can make a separate version of the app for web to just guide people to our app in the app stores, for when we have them up there. We can create a different entry point for the app by creating ",Object(e.b)("strong",{parentName:"p"},"App.web.js")," and then build it there."),Object(e.b)(p.a,{file:"exploring-managed/web.mp4",spaceAfter:!0,mdxType:"Video"}),Object(e.b)("h2",a({},{id:"configure-the-app-with-appjson"}),"Configure the app with ",Object(e.b)("strong",{parentName:"h2"},"app.json")),Object(e.b)("p",null,"In a managed app we don\u2019t have the native iOS or Android projects to poke around and modify, this is managed by Expo for us. So when we want to change configuration like the icon and splash screen image we can use ",Object(e.b)("strong",{parentName:"p"},"app.json"),"."),Object(e.b)(p.a,{file:"exploring-managed/config.mp4",spaceAfter:!0,mdxType:"Video"}),Object(e.b)("h2",a({},{id:"publish-and-share-your-app"}),"Publish and share your app"),Object(e.b)("p",null,"To share the app with teammates we can run ",Object(e.b)("inlineCode",{parentName:"p"},"expo publish")," and we\u2019ll build the JavaScript bundle and upload all of the assets to a CDN. ",Object(e.b)("a",a({parentName:"p"},{href:"/workflow/publishing/"}),"Read more about publishing here"),"."),Object(e.b)(p.a,{file:"exploring-managed/publish.mp4",spaceAfter:30,mdxType:"Video"}),Object(e.b)("blockquote",null,Object(e.b)("p",{parentName:"blockquote"},Object(e.b)("em",{parentName:"p"},"Note: Running ",Object(e.b)("inlineCode",{parentName:"em"},"expo publish")," will upload your app artifacts to Expo's CDN (powered by CloudFront). If you would rather host everything on your own servers, read about how to do this in ",Object(e.b)("a",a({parentName:"em"},{href:"/distribution/hosting-your-app/"}),"Hosting Updates on Your Servers"),"."))),Object(e.b)("p",null,"You may have noticed that when we ran ",Object(e.b)("inlineCode",{parentName:"p"},"expo publish")," the CLI warned us about optimizing assets. We can run ",Object(e.b)("inlineCode",{parentName:"p"},"npx expo-optimize")," to do this, and it\u2019ll make our assets a bit more lean if possible. Republish after this to reap the rewards."),Object(e.b)(p.a,{file:"exploring-managed/optimize.mp4",mdxType:"Video"}),Object(e.b)("p",null,"Upon publishing you are given a persistent URL that you can share with colleagues, in this case it was ",Object(e.b)("a",a({parentName:"p"},{href:"https://expo.dev/@notbrent/blearexp"}),"https://expo.dev/@notbrent/blearexp"),". This is determined by your Expo account username and the ",Object(e.b)("inlineCode",{parentName:"p"},"slug")," field in your project ",Object(e.b)("strong",{parentName:"p"},"app.json"),"."),Object(e.b)("p",null,"On iOS, only you can open projects that you have built unless you have a ",Object(e.b)("a",a({parentName:"p"},{href:"https://expo.dev/developer-services"}),"priority plan"),", in which case your teammates can open your projects as well."),Object(e.b)("h2",a({},{id:"building-and-deploying"}),"Building and deploying"),Object(e.b)("h3",a({},{id:"ios-and-the-apple-app-store"}),"iOS and the Apple App Store"),Object(e.b)("p",null,"Before we run the build, we need to set a ",Object(e.b)("inlineCode",{parentName:"p"},"bundleIdentifier")," in ",Object(e.b)("strong",{parentName:"p"},"app.json")," (",Object(e.b)("a",a({parentName:"p"},{href:"https://stackoverflow.com/questions/11347470/what-does-bundle-identifier-mean-in-the-ios-project"}),'"What does bundle identifier mean?"'),")."),Object(e.b)(p.a,{file:"exploring-managed/bundleid.mp4",mdxType:"Video"}),Object(e.b)("p",null,"Now when we run ",Object(e.b)("inlineCode",{parentName:"p"},"expo build:ios")," it will kick off a build with the Expo build service. We will be prompted to enter our Apple Developer credentials, and then we\u2019ll just hit enter a couple of times to let Expo handle the distribution certificate, push key, and provisioning profile. You can also provide all of this yourself, which you might want to do if you are moving an existing app to the managed workflow. (",Object(e.b)("a",a({parentName:"p"},{href:"/distribution/security/"}),"Concerned about security?"),")"),Object(e.b)(p.a,{file:"exploring-managed/buildios.mp4",spaceAfter:30,mdxType:"Video"}),Object(e.b)("blockquote",null,Object(e.b)("p",{parentName:"blockquote"},Object(e.b)("em",{parentName:"p"},"Note: Running ",Object(e.b)("inlineCode",{parentName:"em"},"expo build:[ios/android]")," uses the Expo build service ","\u2014"," if you would rather run builds on your own infrastructure, read about how to do this in ",Object(e.b)("a",a({parentName:"em"},{href:"/distribution/turtle-cli/"}),"Building Standalone Apps on Your CI")))),Object(e.b)("p",null,"Now you can use ",Object(e.b)("a",a({parentName:"p"},{href:"https://apps.apple.com/app/transporter/id1450874784"}),"Transporter")," to upload the app to App Store Connect, but we find that it\u2019s a bit easier to run ",Object(e.b)("inlineCode",{parentName:"p"},"expo upload:ios")," instead. Once it's up on App Store Connect, you'll have to do some manual work within their web interface. ",Object(e.b)("a",a({parentName:"p"},{href:"/distribution/app-stores/"}),"Read more about deploying to app stores"),"."),Object(e.b)(p.a,{file:"exploring-managed/uploadios.mp4",spaceAfter:!0,mdxType:"Video"}),Object(e.b)("h3",a({},{id:"android-and-the-google-play-store"}),"Android and the Google Play Store"),Object(e.b)("p",null,"Android builds follow a similar process to iOS builds, but we are going to restrict the permissions that we need here to just the ones we use in the app because Android permissions are more static than iOS. The Android equivalent of iOS' ",Object(e.b)("inlineCode",{parentName:"p"},"bundleIdentifier")," is ",Object(e.b)("inlineCode",{parentName:"p"},"package"),"."),Object(e.b)(p.a,{file:"exploring-managed/package.mp4",mdxType:"Video"}),Object(e.b)("p",null,"We\u2019ll build an ",Object(e.b)("a",a({parentName:"p"},{href:"https://developer.android.com/platform/technology/app-bundle"}),"Android App Bundle (",Object(e.b)("strong",{parentName:"a"},".aab"),")")," here because we want a more lean binary for the Play Store, but if you want to install the binary on a local device for testing, leave out the ",Object(e.b)("inlineCode",{parentName:"p"},"--app-bundle")," flag and you\u2019ll get a ",Object(e.b)("strong",{parentName:"p"},".apk")," file instead."),Object(e.b)(p.a,{file:"exploring-managed/buildandroid.mp4",mdxType:"Video"}),Object(e.b)("p",null,"Now we need to create the app in the Google Play Console and upload it through the web interface manually. After the first time you have uploaded the app, subsequent uploads can be done with ",Object(e.b)("inlineCode",{parentName:"p"},"expo upload:android"),". ",Object(e.b)("a",a({parentName:"p"},{href:"/distribution/app-stores/"}),"Read more about deploying to app stores"),"."),Object(e.b)("h3",a({},{id:"building-and-deploying-to-the-web"}),"Building and deploying to the web"),Object(e.b)("p",null,"Run ",Object(e.b)("inlineCode",{parentName:"p"},"expo build:web")," then upload the ",Object(e.b)("inlineCode",{parentName:"p"},"web-build")," directory to any host capable of serving static files."),Object(e.b)(p.a,{file:"exploring-managed/buildweb.mp4",spaceAfter:!0,mdxType:"Video"}),Object(e.b)("h2",a({},{id:"updating-the-app"}),"Updating the app"),Object(e.b)("p",null,"Once your app is out for testing or on the stores you probably don\u2019t want to have to repeat the process again to make some small changes. In this case, we noticed that we weren\u2019t asking for camera roll permissions before saving the image, so if you tried to save an image before picking one from the camera roll then it wouldn\u2019t work. To ship an update, we just need to run ",Object(e.b)("inlineCode",{parentName:"p"},"expo publish")," again."),Object(e.b)(p.a,{file:"exploring-managed/update.mp4",mdxType:"Video"}),Object(e.b)("p",null,"When we built our Android app bundle above, we told it to point to a specific Android release channel (",Object(e.b)("a",a({parentName:"p"},{href:"/distribution/release-channels/"}),"learn more about release channels"),"). To publish an update to the Android app we then need to update that release channel too."),Object(e.b)(p.a,{file:"exploring-managed/updatechannel.mp4",mdxType:"Video"}),Object(e.b)("p",null,"To determine the rules for when apps will download and apply these updates, ",Object(e.b)("a",a({parentName:"p"},{href:"/guides/configuring-updates/"}),"read about configuring updates"),"."),Object(e.b)("p",null,"We frequently release updates to the ",Object(e.b)("a",a({parentName:"p"},{href:"/../../../../../../../versions/latest"}),"Expo SDK"),". If you decide to update your app to a newer version of our SDK, copies of the older version will continue to work fine. Users will download the newest copy that their client supports."),Object(e.b)("h2",a({},{id:"sending-notifications"}),"Sending notifications"),Object(e.b)("p",null,"An ",Object(e.b)("a",a({parentName:"p"},{href:"/push-notifications/overview/"}),"in-depth guide")," to setting up push notifications end-to-end from your app to server is a good place to look for more information here. To quickly demonstrate how easy it is to get something simple wired up, without introducing any complexity of a server, take a look at how we can test out notifications using the ",Object(e.b)("a",a({parentName:"p"},{href:"https://expo.dev/notifications"}),"Push notifications tool"),"."),Object(e.b)(p.a,{file:"exploring-managed/notify.mp4",mdxType:"Video"}),Object(e.b)("h2",a({},{id:"up-next"}),"Up next"),Object(e.b)("p",null,"You are now, at a very high level, familiar with the steps you would go through to create an app with the Expo managed workflow."),Object(e.b)("p",null,"Let's move on to ",Object(e.b)("a",a({parentName:"p"},{href:"/introduction/why-not-expo/"}),"learn about the limitations"),"."))}r.isMDXComponent=!0},KiYJ:function(P,h,l){"use strict";l.d(h,"a",function(){return v});var e=l("cpVT"),s=l("3zh3"),p=l.n(s),m=l("q1tI"),N=l.n(m),f=l("AeFk");function g(d,a){var u=Object.keys(d);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(d);a&&(c=c.filter(function(O){return Object.getOwnPropertyDescriptor(d,O).enumerable})),u.push.apply(u,c)}return u}function j(d){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?g(Object(u),!0).forEach(function(c){Object(e.a)(d,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(u)):g(Object(u)).forEach(function(c){Object.defineProperty(d,c,Object.getOwnPropertyDescriptor(u,c))})}return d}function v(d){var a=d.alt,u=d.src,c=d.style,O=d.containerStyle;return Object(f.c)("div",{style:j({textAlign:"center",backgroundColor:s.theme.background.secondary,paddingTop:10,paddingBottom:10,marginTop:20,marginBottom:20},O)},Object(f.c)("img",{src:u,alt:a,style:c}))}},cpVT:function(P,h,l){"use strict";l.d(h,"a",function(){return e});function e(s,p,m){return p in s?Object.defineProperty(s,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):s[p]=m,s}}},[["6pJ/",1,0,2,3,17]]]);
