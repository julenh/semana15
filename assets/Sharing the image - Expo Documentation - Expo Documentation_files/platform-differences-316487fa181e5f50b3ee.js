_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[227],{"+Css":function(m,l,e){"use strict";e.d(l,"a",function(){return o});function o(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}},"5BX9":function(m,l,e){"use strict";e.d(l,"a",function(){return i}),e.d(l,"b",function(){return p}),e.d(l,"c",function(){return f});var o=e("q1tI"),c=e.n(o),a=e("AeFk"),i=Object(o.createContext)({version:"latest",hasVersion:!1,setVersion:function(x){throw new Error("PageApiVersionContext not found")}});function p(d){var x=v(d.router.pathname),b=x!==null,E=Object(o.useCallback)(function(I){d.router.push(g(d.router.pathname,I))},[]);return Object(a.c)(i.Provider,{value:{setVersion:E,hasVersion:b,version:x||"latest"}},d.children)}function f(){return Object(o.useContext)(i)}function y(d){return d.startsWith("/versions/")}function v(d){return y(d)?d.split("/",3).pop():null}function g(d,x){var b=v(d);return b?d.replace(b,x):d}},"6FTQ":function(m,l,e){"use strict";e.d(l,"a",function(){return o});function o(c,a){(a==null||a>c.length)&&(a=c.length);for(var i=0,p=new Array(a);i<a;i++)p[i]=c[i];return p}},"7LId":function(m,l,e){"use strict";e.d(l,"a",function(){return c});function o(a,i){return o=Object.setPrototypeOf||function(f,y){return f.__proto__=y,f},o(a,i)}function c(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),i&&o(a,i)}},"7ljp":function(m,l,e){"use strict";e.d(l,"a",function(){return E}),e.d(l,"b",function(){return T});var o=e("q1tI"),c=e.n(o);function a(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function i(){return i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},i.apply(this,arguments)}function p(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),r.push.apply(r,s)}return r}function f(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(s){a(n,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(r,s))})}return n}function y(n,t){if(n==null)return{};var r={},s=Object.keys(n),h,u;for(u=0;u<s.length;u++)h=s[u],!(t.indexOf(h)>=0)&&(r[h]=n[h]);return r}function v(n,t){if(n==null)return{};var r=y(n,t),s,h;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(h=0;h<u.length;h++)s=u[h],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,s)||(r[s]=n[s]))}return r}var g=function(t){return typeof t=="function"},d=c.a.createContext({}),x=function(t){return function(r){var s=b(r.components);return c.a.createElement(t,i({},r,{components:s}))}},b=function(t){var r=c.a.useContext(d),s=r;return t&&(s=g(t)?t(r):f(f({},r),t)),s},E=function(t){var r=b(t.components);return c.a.createElement(d.Provider,{value:r},t.children)},I="mdxType",A={inlineCode:"code",wrapper:function(t){var r=t.children;return c.a.createElement(c.a.Fragment,{},r)}},S=c.a.forwardRef(function(n,t){var r=n.components,s=n.mdxType,h=n.originalType,u=n.parentName,O=v(n,["components","mdxType","originalType","parentName"]),j=b(r),P=s,w=j["".concat(u,".").concat(P)]||j[P]||A[P]||h;return r?c.a.createElement(w,f(f({ref:t},O),{},{components:r})):c.a.createElement(w,f({ref:t},O))});S.displayName="MDXCreateElement";function T(n,t){var r=arguments,s=t&&t.mdxType;if(typeof n=="string"||s){var h=r.length,u=new Array(h);u[0]=S;var O={};for(var j in t)hasOwnProperty.call(t,j)&&(O[j]=t[j]);O.originalType=n,O[I]=typeof n=="string"?n:s,u[1]=O;for(var P=2;P<h;P++)u[P]=r[P];return c.a.createElement.apply(null,u)}return c.a.createElement.apply(null,r)}},"802u":function(m,l,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/platform-differences",function(){return e("dF7+")}])},"8rE2":function(m,l,e){"use strict";e.d(l,"a",function(){return c});var o=e("6FTQ");function c(a,i){if(!!a){if(typeof a=="string")return Object(o.a)(a,i);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Object(o.a)(a,i)}}},"C+bE":function(m,l){function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(m.exports=e=function(a){return typeof a},m.exports.default=m.exports,m.exports.__esModule=!0):(m.exports=e=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m.exports.default=m.exports,m.exports.__esModule=!0),e(o)}m.exports=e,m.exports.default=m.exports,m.exports.__esModule=!0},"H+61":function(m,l,e){"use strict";e.d(l,"a",function(){return o});function o(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}},I0q5:function(m,l,e){"use strict";e.d(l,"a",function(){return t});var o=e("z7pX"),c=e("H+61"),a=e("UlJF"),i=e("+Css"),p=e("7LId"),f=e("VIvw"),y=e("iHvq"),v=e("cpVT"),g=e("q1tI"),d=e("ufKf"),x=e("3zh3"),b=e("AeFk"),E=function(s){var h=s.size,u=h===void 0?24:h,O=s.stroke,j=O===void 0?x.palette.dark.white:O;return Object(b.c)("svg",{"aria-label":"check",width:u,height:u,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(b.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:j,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},I=e("5BX9");function A(r){var s=S();return function(){var u=Object(y.a)(r),O;if(s){var j=Object(y.a)(this).constructor;O=Reflect.construct(u,arguments,j)}else O=u.apply(this,arguments);return Object(f.a)(this,O)}}function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}var T="android",n="v".concat(e("kiQV").version),t=function(r){Object(p.a)(h,r);var s=A(h);function h(){var u;Object(c.a)(this,h);for(var O=arguments.length,j=new Array(O),P=0;P<O;P++)j[P]=arguments[P];return u=s.call.apply(s,[this].concat(j)),Object(v.a)(Object(i.a)(u),"contentRef",g.createRef()),Object(v.a)(Object(i.a)(u),"state",{ready:!1}),Object(v.a)(Object(i.a)(u),"getSelectedDocsVersion",function(){var w=u.context.version;return w==="latest"?n:w}),Object(v.a)(Object(i.a)(u),"getSnackSdkVersion",function(){var w=u.getSelectedDocsVersion();return w==="unversioned"&&(w=n),w.replace("v","")}),Object(v.a)(Object(i.a)(u),"getExamplesPath",function(){return"".concat(document.location.origin,"/static/examples/").concat(u.getSelectedDocsVersion())}),Object(v.a)(Object(i.a)(u),"getDependencies",function(){return Object(o.a)(u.props.dependencies).join(",")}),Object(v.a)(Object(i.a)(u),"getCode",function(){var w=u.contentRef.current&&u.contentRef.current.textContent||"";return w.replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")}),u}return Object(a.a)(h,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(b.c)("div",null,Object(b.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(b.c)("form",{action:d.a,method:"POST",target:"_blank"},Object(b.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||T}),Object(b.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(b.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(b.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(b.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(b.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(d.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(b.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(b.c)(E,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),h}(g.Component);Object(v.a)(t,"contextType",I.a),Object(v.a)(t,"defaultProps",{dependencies:[]})},UlJF:function(m,l,e){"use strict";e.d(l,"a",function(){return c});function o(a,i){for(var p=0;p<i.length;p++){var f=i[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function c(a,i,p){return i&&o(a.prototype,i),p&&o(a,p),a}},VIvw:function(m,l,e){"use strict";e.d(l,"a",function(){return i});var o=e("C+bE"),c=e.n(o),a=e("+Css");function i(p,f){if(f&&(c()(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Object(a.a)(p)}},cpVT:function(m,l,e){"use strict";e.d(l,"a",function(){return o});function o(c,a,i){return a in c?Object.defineProperty(c,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):c[a]=i,c}},"dF7+":function(m,l,e){"use strict";e.r(l),e.d(l,"meta",function(){return E}),e.d(l,"headings",function(){return I}),e.d(l,"default",function(){return T});var o=e("7ljp"),c=e("I0q5"),a=Object.defineProperty,i=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,g=(n,t,r)=>t in n?a(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,d=(n,t)=>{for(var r in t||(t={}))y.call(t,r)&&g(n,r,t[r]);if(f)for(var r of f(t))v.call(t,r)&&g(n,r,t[r]);return n},x=(n,t)=>i(n,p(t)),b=(n,t)=>{var r={};for(var s in n)y.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&f)for(var s of f(n))t.indexOf(s)<0&&v.call(n,s)&&(r[s]=n[s]);return r};const E={title:"Handling platform differences"},I=[{depth:2,type:"text",title:"A workaround for sharing on web"},{depth:2,type:"text",title:"Up next"}],A={meta:E,headings:I},S="wrapper";function T(n){var t=n,{components:r}=t,s=b(t,["components"]);return Object(o.b)(S,x(d(d({},A),s),{components:r,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In the perfect world we want to write code to perform our task just once and have it run the same on every platform. Even on the web, where this is an explicit design goal, it's often necessary to consider differences between web browsers."),Object(o.b)("p",null,"Expo tools try to handle smoothing over these differences between iOS, Android, web (and different web browsers) for you, but it isn't always possible. There are two important differences between how the iOS and Android share APIs work and how the Web Share API works."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"It isn't always available on web."),Object(o.b)("li",{parentName:"ol"},"We can't share local file URIs on web.")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"\u{1F925} It's actually technically possible in the latest versions of Chrome for Android to share files, but it's very new and not yet supported by ",Object(o.b)("inlineCode",{parentName:"p"},"expo-sharing"),", so we will ignore that here for now.")),Object(o.b)("h2",d({},{id:"a-workaround-for-sharing-on-web"}),"A workaround for sharing on web"),Object(o.b)("p",null,"We are going to work around spotty support for the Web Share API and the lack of support for sharing files from our device by uploading the file to some web service and then letting the users copy the URL."),Object(o.b)("p",null,"Run ",Object(o.b)("inlineCode",{parentName:"p"},"expo install anonymous-files")," to install a library to handle uploading the file for us, then make these changes to your app:"),Object(o.b)(c.a,{label:"Sharing web workaround",templateId:"tutorial/sharing-web-workaround",dependencies:["expo-image-picker","expo-sharing","anonymous-files"],defaultPlatform:"web",mdxType:"SnackInline"},Object(o.b)("pre",null,Object(o.b)("code",d({parentName:"pre"},{className:"language-js"}),`import React from 'react';
import { Image, /* @info Import Platform, you can order imports however you like, here we did it alphabetically. */Platform,/* @end */ StyleSheet, Text, TouchableOpacity, View } from 'react-native';
import * as ImagePicker from 'expo-image-picker';
import * as Sharing from 'expo-sharing';
/* @info Import our newly installed package, it exports a function called uploadToAnonymousFilesAsync */
import uploadToAnonymousFilesAsync from 'anonymous-files'; /* @end */


export default function App() {
  const [selectedImage, setSelectedImage] = React.useState(null);

  let openImagePickerAsync = async () => {
    let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();

    if (permissionResult.granted === false) {
      alert('Permission to access camera roll is required!');
      return;
    }

    let pickerResult = await ImagePicker.launchImageLibraryAsync();
    if (pickerResult.cancelled === true) {
      return;
    }

    /* @info When the platform OS (operating system) is web, upload the file and set the remoteUri */
    if (Platform.OS === 'web') {
      let remoteUri = await uploadToAnonymousFilesAsync(pickerResult.uri);
      setSelectedImage({ localUri: pickerResult.uri, remoteUri });
    } else {
      setSelectedImage({ localUri: pickerResult.uri, remoteUri: null });
    } /* @end */

  };

  let openShareDialogAsync = async () => {
    if (!(await Sharing.isAvailableAsync())) {
      /* @info Give the user a link to the website that the file is uploaded to */
      alert(\`The image is available for sharing at: \${selectedImage.remoteUri}\`);/* @end */

      return;
    }

    Sharing.shareAsync(/* @info Use the remoteUri if set, otherwise the localUri */selectedImage.remoteUri || selectedImage.localUri/* @end */);
  };

  /* the rest of the app is unchanged */
}
`))),Object(o.b)("h2",d({},{id:"up-next"}),"Up next"),Object(o.b)("p",null,"Our app does everything we set out for it to do, so it's time to shift our focus towards the purely aesthetic. In the next step of this tutorial we will ",Object(o.b)("a",d({parentName:"p"},{href:"/tutorial/configuration/"}),"customize our app icon and splash screen"),"."))}T.isMDXComponent=!0},iHvq:function(m,l,e){"use strict";e.d(l,"a",function(){return o});function o(c){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},o(c)}},kiQV:function(m){m.exports=JSON.parse(`{"name":"expo-docs","version":"45.0.0","private":true,"scripts":{"dev":"rimraf .next/preval && next dev -p 3002","build":"cross-env NODE_OPTIONS=--max-old-space-size=6144 next build","export":"yarn run build && next export && yarn run export-issue-404","export-issue-404":"echo \\"\u{1F6E0}  Patching https://github.com/vercel/next.js/issues/16528\\"; cp out/404/index.html out/404.html","export-server":"http-server out -p 8000","import-react-native-docs":"node ./scripts/import-react-native-docs.js","test-links":"node --async-stack-traces --unhandled-rejections=strict ./scripts/test-links.js","prettier":"prettier --write '**/*.{js,ts,tsx,md}'","lint":"tsc --noEmit && eslint .","lint-case":"case-police 'pages/**/*.md' -p brands,general,products,softwares -d expo-dict.json","lint-links":"remark -u validate-links ./pages","watch":"tsc --noEmit -w","test":"jest","schema-sync":"node --async-stack-traces --unhandled-rejections=strict ./scripts/schema-sync.js","remove-version":"node --unhandled-rejections=strict ./scripts/remove-version.js"},"resolutions":{"webpack":"^5.28.0"},"dependencies":{"@emotion/react":"^11.4.0","@expo/spawn-async":"^1.5.0","@expo/styleguide":"^4.0.4","@mdx-js/loader":"^1.6.22","@mdx-js/mdx":"^1.6.22","@mdx-js/react":"^1.6.22","@mdx-js/runtime":"^1.6.22","@reach/tabs":"^0.15.0","@sentry/browser":"^5.6.1","date-fns":"^2.28.0","docsearch.js":"^2.5.2","emoji-regex":"^9.2.2","front-matter":"^2.3.0","fs-extra":"^6.0.1","github-slugger":"^1.3.0","hotshot":"^1.0.5","lodash":"^4.17.20","next":"^11.1.4","nprogress":"0.2.0","path-browserify":"^1.0.1","prism-react-renderer":"1.0.2","prop-types":"15.7.2","react":"^17.0.2","react-diff-view":"^2.4.7","react-dom":"^17.0.2","react-feather":"^2.0.9","react-grid-system":"^8.1.3","react-markdown":"^6.0.3","react-player":"^1.11.1","react-visibility-sensor":"^5.1.1","remark-gfm":"^1.0.0","tippy.js":"^6.3.1"},"devDependencies":{"@apidevtools/json-schema-ref-parser":"^9.0.9","@babel/core":"^7.13.14","@emotion/babel-preset-css-prop":"^11.2.0","@emotion/jest":"^11.7.1","@testing-library/jest-dom":"^5.16.4","@testing-library/react":"^12.1.5","@testing-library/react-hooks":"^7.0.2","@testing-library/user-event":"^14.1.1","@types/cacache":"^15.0.1","@types/fs-extra":"^9.0.11","@types/github-slugger":"^1.3.0","@types/google.analytics":"^0.0.41","@types/gtag.js":"^0.0.6","@types/lodash":"^4.14.161","@types/long":"^4.0.1","@types/mdx-js__react":"^1.5.3","@types/node":"^14.11.2","@types/nprogress":"^0.2.0","@types/react":"^17.0.11","axios":"^0.21.2","babel-plugin-module-resolver":"3.1.1","babel-plugin-preval":"^3.0.1","case-police":"^0.5.3","cross-env":"^5.2.0","danger":"^9.2.10","esbuild-loader":"^2.13.1","eslint":"^8.6.0","eslint-config-next":"^10.2.3","eslint-config-universe":"^10.0.0","eslint-plugin-lodash":"^7.3.0","eslint-plugin-testing-library":"^5.5.0","http-server":"^0.12.3","jest":"^27.4.7","js-yaml":"^4.1.0","prettier":"^2.3.1","puppeteer":"^10.2.0","react-test-renderer":"^17.0.2","rehype-slug":"^4.0.1","remark-cli":"^9.0.0","remark-frontmatter":"^2.0.0","remark-validate-links":"^10.0.4","rimraf":"^3.0.2","semver":"^7.3.5","sitemap":"^6.3.0","typescript":"^4.5.4","unist-builder":"^2.0.0","unist-util-visit":"^2.0.3"}}`)},ufKf:function(m,l,e){"use strict";e.d(l,"a",function(){return o}),e.d(l,"b",function(){return c});var o="https://snack.expo.dev";function c(a){var i=a.templateId,p=a.code,f=a.files,y=a.baseURL,v={};return f&&Object.keys(f).forEach(function(g){var d=f[g],x=/\.(jsx?|tsx?|json|md)$/i.test(g);x?v[g]={type:"CODE",url:d.match(/^https?:\/\//)?d:"".concat(y,"/").concat(d)}:v[g]={type:"ASSET",contents:d}}),i?v["App.js"]={type:"CODE",url:"".concat(y,"/").concat(i,".js")}:p&&(v["App.js"]={type:"CODE",contents:p}),v}},z7pX:function(m,l,e){"use strict";e.d(l,"a",function(){return f});var o=e("6FTQ");function c(y){if(Array.isArray(y))return Object(o.a)(y)}function a(y){if(typeof Symbol!="undefined"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}var i=e("8rE2");function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(y){return c(y)||a(y)||Object(i.a)(y)||p()}}},[["802u",1,0,2,3]]]);
