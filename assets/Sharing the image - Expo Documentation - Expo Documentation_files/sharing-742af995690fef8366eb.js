_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[228],{"+Css":function(g,p,t){"use strict";t.d(p,"a",function(){return n});function n(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}},"5BX9":function(g,p,t){"use strict";t.d(p,"a",function(){return a}),t.d(p,"b",function(){return h}),t.d(p,"c",function(){return d});var n=t("q1tI"),u=t.n(n),s=t("AeFk"),a=Object(n.createContext)({version:"latest",hasVersion:!1,setVersion:function(j){throw new Error("PageApiVersionContext not found")}});function h(m){var j=b(m.router.pathname),f=j!==null,w=Object(n.useCallback)(function(T){m.router.push(O(m.router.pathname,T))},[]);return Object(s.c)(a.Provider,{value:{setVersion:w,hasVersion:f,version:j||"latest"}},m.children)}function d(){return Object(n.useContext)(a)}function y(m){return m.startsWith("/versions/")}function b(m){return y(m)?m.split("/",3).pop():null}function O(m,j){var f=b(m);return f?m.replace(f,j):m}},"6FTQ":function(g,p,t){"use strict";t.d(p,"a",function(){return n});function n(u,s){(s==null||s>u.length)&&(s=u.length);for(var a=0,h=new Array(s);a<s;a++)h[a]=u[a];return h}},"7LId":function(g,p,t){"use strict";t.d(p,"a",function(){return u});function n(s,a){return n=Object.setPrototypeOf||function(d,y){return d.__proto__=y,d},n(s,a)}function u(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),a&&n(s,a)}},"7ljp":function(g,p,t){"use strict";t.d(p,"a",function(){return w}),t.d(p,"b",function(){return S});var n=t("q1tI"),u=t.n(n);function s(c,o,e){return o in c?Object.defineProperty(c,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[o]=e,c}function a(){return a=Object.assign||function(c){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(c[r]=e[r])}return c},a.apply(this,arguments)}function h(c,o){var e=Object.keys(c);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(c);o&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(c,l).enumerable})),e.push.apply(e,r)}return e}function d(c){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?h(Object(e),!0).forEach(function(r){s(c,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach(function(r){Object.defineProperty(c,r,Object.getOwnPropertyDescriptor(e,r))})}return c}function y(c,o){if(c==null)return{};var e={},r=Object.keys(c),l,i;for(i=0;i<r.length;i++)l=r[i],!(o.indexOf(l)>=0)&&(e[l]=c[l]);return e}function b(c,o){if(c==null)return{};var e=y(c,o),r,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(c);for(l=0;l<i.length;l++)r=i[l],!(o.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,r)||(e[r]=c[r]))}return e}var O=function(o){return typeof o=="function"},m=u.a.createContext({}),j=function(o){return function(e){var r=f(e.components);return u.a.createElement(o,a({},e,{components:r}))}},f=function(o){var e=u.a.useContext(m),r=e;return o&&(r=O(o)?o(e):d(d({},e),o)),r},w=function(o){var e=f(o.components);return u.a.createElement(m.Provider,{value:e},o.children)},T="mdxType",D={inlineCode:"code",wrapper:function(o){var e=o.children;return u.a.createElement(u.a.Fragment,{},e)}},I=u.a.forwardRef(function(c,o){var e=c.components,r=c.mdxType,l=c.originalType,i=c.parentName,v=b(c,["components","mdxType","originalType","parentName"]),x=f(e),P=r,E=x["".concat(i,".").concat(P)]||x[P]||D[P]||l;return e?u.a.createElement(E,d(d({ref:o},v),{},{components:e})):u.a.createElement(E,d({ref:o},v))});I.displayName="MDXCreateElement";function S(c,o){var e=arguments,r=o&&o.mdxType;if(typeof c=="string"||r){var l=e.length,i=new Array(l);i[0]=I;var v={};for(var x in o)hasOwnProperty.call(o,x)&&(v[x]=o[x]);v.originalType=c,v[T]=typeof c=="string"?c:r,i[1]=v;for(var P=2;P<l;P++)i[P]=e[P];return u.a.createElement.apply(null,i)}return u.a.createElement.apply(null,e)}},"8rE2":function(g,p,t){"use strict";t.d(p,"a",function(){return u});var n=t("6FTQ");function u(s,a){if(!!s){if(typeof s=="string")return Object(n.a)(s,a);var h=Object.prototype.toString.call(s).slice(8,-1);if(h==="Object"&&s.constructor&&(h=s.constructor.name),h==="Map"||h==="Set")return Array.from(s);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return Object(n.a)(s,a)}}},"H+61":function(g,p,t){"use strict";t.d(p,"a",function(){return n});function n(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}},I0q5:function(g,p,t){"use strict";t.d(p,"a",function(){return o});var n=t("z7pX"),u=t("H+61"),s=t("UlJF"),a=t("+Css"),h=t("7LId"),d=t("VIvw"),y=t("iHvq"),b=t("cpVT"),O=t("q1tI"),m=t("ufKf"),j=t("3zh3"),f=t("AeFk"),w=function(r){var l=r.size,i=l===void 0?24:l,v=r.stroke,x=v===void 0?j.palette.dark.white:v;return Object(f.c)("svg",{"aria-label":"check",width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(f.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:x,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},T=t("5BX9");function D(e){var r=I();return function(){var i=Object(y.a)(e),v;if(r){var x=Object(y.a)(this).constructor;v=Reflect.construct(i,arguments,x)}else v=i.apply(this,arguments);return Object(d.a)(this,v)}}function I(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var S="android",c="v".concat(t("kiQV").version),o=function(e){Object(h.a)(l,e);var r=D(l);function l(){var i;Object(u.a)(this,l);for(var v=arguments.length,x=new Array(v),P=0;P<v;P++)x[P]=arguments[P];return i=r.call.apply(r,[this].concat(x)),Object(b.a)(Object(a.a)(i),"contentRef",O.createRef()),Object(b.a)(Object(a.a)(i),"state",{ready:!1}),Object(b.a)(Object(a.a)(i),"getSelectedDocsVersion",function(){var E=i.context.version;return E==="latest"?c:E}),Object(b.a)(Object(a.a)(i),"getSnackSdkVersion",function(){var E=i.getSelectedDocsVersion();return E==="unversioned"&&(E=c),E.replace("v","")}),Object(b.a)(Object(a.a)(i),"getExamplesPath",function(){return"".concat(document.location.origin,"/static/examples/").concat(i.getSelectedDocsVersion())}),Object(b.a)(Object(a.a)(i),"getDependencies",function(){return Object(n.a)(i.props.dependencies).join(",")}),Object(b.a)(Object(a.a)(i),"getCode",function(){var E=i.contentRef.current&&i.contentRef.current.textContent||"";return E.replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")}),i}return Object(s.a)(l,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(f.c)("div",null,Object(f.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(f.c)("form",{action:m.a,method:"POST",target:"_blank"},Object(f.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||S}),Object(f.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(f.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(f.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(f.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(f.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(m.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(f.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(f.c)(w,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),l}(O.Component);Object(b.a)(o,"contextType",T.a),Object(b.a)(o,"defaultProps",{dependencies:[]})},"ND+y":function(g,p,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/sharing",function(){return t("kc91")}])},UlJF:function(g,p,t){"use strict";t.d(p,"a",function(){return u});function n(s,a){for(var h=0;h<a.length;h++){var d=a[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}function u(s,a,h){return a&&n(s.prototype,a),h&&n(s,h),s}},VIvw:function(g,p,t){"use strict";t.d(p,"a",function(){return a});var n=t("C+bE"),u=t.n(n),s=t("+Css");function a(h,d){if(d&&(u()(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Object(s.a)(h)}},iHvq:function(g,p,t){"use strict";t.d(p,"a",function(){return n});function n(u){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},n(u)}},kc91:function(g,p,t){"use strict";t.r(p),t.d(p,"meta",function(){return D}),t.d(p,"headings",function(){return I}),t.d(p,"default",function(){return o});var n=t("7ljp"),u=t("I0q5"),s=t("3iwL"),a=t("G5UF"),h=Object.defineProperty,d=Object.defineProperties,y=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,j=(e,r,l)=>r in e?h(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,f=(e,r)=>{for(var l in r||(r={}))O.call(r,l)&&j(e,l,r[l]);if(b)for(var l of b(r))m.call(r,l)&&j(e,l,r[l]);return e},w=(e,r)=>d(e,y(r)),T=(e,r)=>{var l={};for(var i in e)O.call(e,i)&&r.indexOf(i)<0&&(l[i]=e[i]);if(e!=null&&b)for(var i of b(e))r.indexOf(i)<0&&m.call(e,i)&&(l[i]=e[i]);return l};const D={title:"Sharing the image"},I=[{depth:2,type:"text",title:"Installing expo-sharing"},{depth:2,type:"text",title:"Using expo-sharing to share an image"},{depth:2,type:"text",title:"Running the app on Android and iOS"},{depth:2,type:"text",title:"Running the app on the web"},{depth:2,type:"text",title:"Working with what we have available"}],S={meta:D,headings:I},c="wrapper";function o(e){var r=e,{components:l}=r,i=T(r,["components"]);return Object(n.b)(c,w(f(f({},S),i),{components:l,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Similar to expo-image-picker, the functionality that we need to share is available in an Expo library ","\u2014"," this one is called ",Object(n.b)("a",f({parentName:"p"},{href:"/versions/latest/sdk/sharing/"}),"expo-sharing"),"."),Object(n.b)("h2",f({},{id:"installing-expo-sharing"}),"Installing expo-sharing"),Object(n.b)("p",null,"You can install expo-sharing in the same way as you installed expo-image-picker:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Run ",Object(n.b)("inlineCode",{parentName:"li"},"expo install expo-sharing")," in your project directory.")),Object(n.b)("h2",f({},{id:"using-expo-sharing-to-share-an-image"}),"Using expo-sharing to share an image"),Object(n.b)(u.a,{label:"Sharing",templateId:"tutorial/sharing-simple",dependencies:["expo-image-picker","expo-sharing"],mdxType:"SnackInline"},Object(n.b)("pre",null,Object(n.b)("code",f({parentName:"pre"},{className:"language-js"}),`import React from 'react';
import { Image, StyleSheet, Text, TouchableOpacity, View, Platform } from 'react-native';
import * as ImagePicker from 'expo-image-picker';
/* @info As always, we must import it to use it */ import * as Sharing from 'expo-sharing'; /* @end */

export default function App() {
  const [selectedImage, setSelectedImage] = React.useState(null);

  let openImagePickerAsync = async () => {
    /* most contents of this function were hidden here to keep the example brief */

    setSelectedImage({ localUri: pickerResult.uri });
  };

  /* @info Share the selected image if sharing is available on the user's device */
  let openShareDialogAsync = async () => {
    if (Platform.OS === 'web') {
      alert(\`Uh oh, sharing isn't available on your platform\`);
      return;
    }

    await Sharing.shareAsync(selectedImage.localUri);
  }; /* @end */

  if (selectedImage !== null) {
    return (
      <View style={styles.container}>
        <Image source={{ uri: selectedImage.localUri }} style={styles.thumbnail} />
        /* @info Add a button to call the new share function */
        <TouchableOpacity onPress={openShareDialogAsync} style={styles.button}>
          <Text style={styles.buttonText}>Share this photo</Text>
        </TouchableOpacity>
        /* @end */
      </View>
    );
  }

  return (
    <View style={styles.container}>
      {/* Our logo, instructions, and picker button are hidden here to keep the example brief */}
    </View>
  );
}
`))),Object(n.b)("h2",f({},{id:"running-the-app-on-android-and-ios"}),"Running the app on Android and iOS"),Object(n.b)(s.a,{file:"tutorial/sharing-native.mp4",mdxType:"Video"}),Object(n.b)("p",null,"\u{1F970} Everything is working great! The operating system share dialog opens up and is ready to share our selected image."),Object(n.b)("h2",f({},{id:"running-the-app-on-the-web"}),"Running the app on the web"),Object(n.b)(s.a,{file:"tutorial/sharing-web-unavailable.mp4",mdxType:"Video"}),Object(n.b)("p",null,'\u{1F631} Uh oh. When we hit "Share this photo" we see that our ',Object(n.b)("inlineCode",{parentName:"p"},"alert")," warns us that sharing is not available. This is happening because the desktop Chrome browser does not currently provide a way for users to share content."),Object(n.b)(a.b,{summary:"Want to learn more about why we can't use expo-sharing in Chrome?",mdxType:"Collapsible"},Object(n.b)("p",null,"Sharing didn't work here because the desktop Chrome browser doesn't yet implement the ",Object(n.b)("a",f({parentName:"p"},{href:"https://web.dev/web-share/"}),"Web Share API"),". ",Object(n.b)("em",{parentName:"p"},'"But wait,"')," you say, ",Object(n.b)("em",{parentName:"p"},`"aren't we using expo-sharing, not the Web Share API?"`)," You can think of the Expo SDK libraries as translators for different platforms. They speak the language of Expo and turn it into the language of iOS, Android, and web. It isn't always possible to translate from Expo's language to the platform that you're working with. In other words, if the platform doesn't implement a feature, Expo can't tell it to invoke that feature. In some cases Expo can attempt to ",Object(n.b)("a",f({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Polyfill_(programming)"}),"polyfill")," the feature for you, but this isn't always possible. Invoking your operating system's built-in share dialog to share content with other applications needs to be implemented by the platform itself ","\u2014"," Chrome in this case.")),Object(n.b)("h2",f({},{id:"working-with-what-we-have-available"}),"Working with what we have available"),Object(n.b)("p",null,"In the next section we are going to look at how we can handle this and another important platform difference. ",Object(n.b)("a",f({parentName:"p"},{href:"/tutorial/platform-differences/"}),'Continue to "Handling platform differences"'),"."))}o.isMDXComponent=!0},kiQV:function(g){g.exports=JSON.parse(`{"name":"expo-docs","version":"45.0.0","private":true,"scripts":{"dev":"rimraf .next/preval && next dev -p 3002","build":"cross-env NODE_OPTIONS=--max-old-space-size=6144 next build","export":"yarn run build && next export && yarn run export-issue-404","export-issue-404":"echo \\"\u{1F6E0}  Patching https://github.com/vercel/next.js/issues/16528\\"; cp out/404/index.html out/404.html","export-server":"http-server out -p 8000","import-react-native-docs":"node ./scripts/import-react-native-docs.js","test-links":"node --async-stack-traces --unhandled-rejections=strict ./scripts/test-links.js","prettier":"prettier --write '**/*.{js,ts,tsx,md}'","lint":"tsc --noEmit && eslint .","lint-case":"case-police 'pages/**/*.md' -p brands,general,products,softwares -d expo-dict.json","lint-links":"remark -u validate-links ./pages","watch":"tsc --noEmit -w","test":"jest","schema-sync":"node --async-stack-traces --unhandled-rejections=strict ./scripts/schema-sync.js","remove-version":"node --unhandled-rejections=strict ./scripts/remove-version.js"},"resolutions":{"webpack":"^5.28.0"},"dependencies":{"@emotion/react":"^11.4.0","@expo/spawn-async":"^1.5.0","@expo/styleguide":"^4.0.4","@mdx-js/loader":"^1.6.22","@mdx-js/mdx":"^1.6.22","@mdx-js/react":"^1.6.22","@mdx-js/runtime":"^1.6.22","@reach/tabs":"^0.15.0","@sentry/browser":"^5.6.1","date-fns":"^2.28.0","docsearch.js":"^2.5.2","emoji-regex":"^9.2.2","front-matter":"^2.3.0","fs-extra":"^6.0.1","github-slugger":"^1.3.0","hotshot":"^1.0.5","lodash":"^4.17.20","next":"^11.1.4","nprogress":"0.2.0","path-browserify":"^1.0.1","prism-react-renderer":"1.0.2","prop-types":"15.7.2","react":"^17.0.2","react-diff-view":"^2.4.7","react-dom":"^17.0.2","react-feather":"^2.0.9","react-grid-system":"^8.1.3","react-markdown":"^6.0.3","react-player":"^1.11.1","react-visibility-sensor":"^5.1.1","remark-gfm":"^1.0.0","tippy.js":"^6.3.1"},"devDependencies":{"@apidevtools/json-schema-ref-parser":"^9.0.9","@babel/core":"^7.13.14","@emotion/babel-preset-css-prop":"^11.2.0","@emotion/jest":"^11.7.1","@testing-library/jest-dom":"^5.16.4","@testing-library/react":"^12.1.5","@testing-library/react-hooks":"^7.0.2","@testing-library/user-event":"^14.1.1","@types/cacache":"^15.0.1","@types/fs-extra":"^9.0.11","@types/github-slugger":"^1.3.0","@types/google.analytics":"^0.0.41","@types/gtag.js":"^0.0.6","@types/lodash":"^4.14.161","@types/long":"^4.0.1","@types/mdx-js__react":"^1.5.3","@types/node":"^14.11.2","@types/nprogress":"^0.2.0","@types/react":"^17.0.11","axios":"^0.21.2","babel-plugin-module-resolver":"3.1.1","babel-plugin-preval":"^3.0.1","case-police":"^0.5.3","cross-env":"^5.2.0","danger":"^9.2.10","esbuild-loader":"^2.13.1","eslint":"^8.6.0","eslint-config-next":"^10.2.3","eslint-config-universe":"^10.0.0","eslint-plugin-lodash":"^7.3.0","eslint-plugin-testing-library":"^5.5.0","http-server":"^0.12.3","jest":"^27.4.7","js-yaml":"^4.1.0","prettier":"^2.3.1","puppeteer":"^10.2.0","react-test-renderer":"^17.0.2","rehype-slug":"^4.0.1","remark-cli":"^9.0.0","remark-frontmatter":"^2.0.0","remark-validate-links":"^10.0.4","rimraf":"^3.0.2","semver":"^7.3.5","sitemap":"^6.3.0","typescript":"^4.5.4","unist-builder":"^2.0.0","unist-util-visit":"^2.0.3"}}`)},ufKf:function(g,p,t){"use strict";t.d(p,"a",function(){return n}),t.d(p,"b",function(){return u});var n="https://snack.expo.dev";function u(s){var a=s.templateId,h=s.code,d=s.files,y=s.baseURL,b={};return d&&Object.keys(d).forEach(function(O){var m=d[O],j=/\.(jsx?|tsx?|json|md)$/i.test(O);j?b[O]={type:"CODE",url:m.match(/^https?:\/\//)?m:"".concat(y,"/").concat(m)}:b[O]={type:"ASSET",contents:m}}),a?b["App.js"]={type:"CODE",url:"".concat(y,"/").concat(a,".js")}:h&&(b["App.js"]={type:"CODE",contents:h}),b}},z7pX:function(g,p,t){"use strict";t.d(p,"a",function(){return d});var n=t("6FTQ");function u(y){if(Array.isArray(y))return Object(n.a)(y)}function s(y){if(typeof Symbol!="undefined"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}var a=t("8rE2");function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(y){return u(y)||s(y)||Object(a.a)(y)||h()}}},[["ND+y",1,0,2,3,4,5,16,17]]]);
