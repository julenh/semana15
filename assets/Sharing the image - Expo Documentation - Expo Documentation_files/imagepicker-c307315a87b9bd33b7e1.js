_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[346],{I0q5:function(S,m,t){"use strict";t.d(m,"a",function(){return P});var e=t("z7pX"),h=t("H+61"),d=t("UlJF"),l=t("+Css"),v=t("7LId"),j=t("VIvw"),y=t("iHvq"),p=t("cpVT"),f=t("q1tI"),g=t("ufKf"),x=t("3zh3"),c=t("AeFk"),E=function(b){var u=b.size,i=u===void 0?24:u,n=b.stroke,o=n===void 0?x.palette.dark.white:n;return Object(c.c)("svg",{"aria-label":"check",width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(c.c)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6m4-3h6v6m-11 5L21 3",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},I=t("5BX9");function N(O){var b=a();return function(){var i=Object(y.a)(O),n;if(b){var o=Object(y.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(j.a)(this,n)}}function a(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(O){return!1}}var A="android",C="v".concat(t("kiQV").version),P=function(O){Object(v.a)(u,O);var b=N(u);function u(){var i;Object(h.a)(this,u);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=b.call.apply(b,[this].concat(o)),Object(p.a)(Object(l.a)(i),"contentRef",f.createRef()),Object(p.a)(Object(l.a)(i),"state",{ready:!1}),Object(p.a)(Object(l.a)(i),"getSelectedDocsVersion",function(){var s=i.context.version;return s==="latest"?C:s}),Object(p.a)(Object(l.a)(i),"getSnackSdkVersion",function(){var s=i.getSelectedDocsVersion();return s==="unversioned"&&(s=C),s.replace("v","")}),Object(p.a)(Object(l.a)(i),"getExamplesPath",function(){return"".concat(document.location.origin,"/static/examples/").concat(i.getSelectedDocsVersion())}),Object(p.a)(Object(l.a)(i),"getDependencies",function(){return Object(e.a)(i.props.dependencies).join(",")}),Object(p.a)(Object(l.a)(i),"getCode",function(){var s=i.contentRef.current&&i.contentRef.current.textContent||"";return s.replace(/%%placeholder-start%%.*%%placeholder-end%%/g,"")}),i}return Object(d.a)(u,[{key:"componentDidMount",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){return Object(c.c)("div",null,Object(c.c)("div",{ref:this.contentRef,style:this.props.contentHidden?{display:"none"}:void 0},this.props.children),Object(c.c)("form",{action:g.a,method:"POST",target:"_blank"},Object(c.c)("input",{type:"hidden",name:"platform",value:this.props.defaultPlatform||A}),Object(c.c)("input",{type:"hidden",name:"name",value:this.props.label||"Example"}),Object(c.c)("input",{type:"hidden",name:"dependencies",value:this.getDependencies()}),Object(c.c)("input",{type:"hidden",name:"sdkVersion",value:this.getSnackSdkVersion()}),this.props.platforms&&Object(c.c)("input",{type:"hidden",name:"supportedPlatforms",value:this.props.platforms.join(",")}),this.state.ready&&Object(c.c)("input",{type:"hidden",name:"files",value:JSON.stringify(Object(g.b)({templateId:this.props.templateId,code:this.getCode(),files:this.props.files,baseURL:this.getExamplesPath()}))}),Object(c.c)("button",{className:"snack-inline-example-button",disabled:!this.state.ready},Object(c.c)(E,{size:16})," ",this.props.buttonTitle||"Try this example on Snack")))}}]),u}(f.Component);Object(p.a)(P,"contextType",I.a),Object(p.a)(P,"defaultProps",{dependencies:[]})},ICng:function(S,m,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/latest/sdk/imagepicker",function(){return t("ZRW5")}])},ZRW5:function(S,m,t){"use strict";t.r(m),t.d(m,"meta",function(){return P}),t.d(m,"headings",function(){return O}),t.d(m,"default",function(){return i});var e=t("7ljp"),h=t("vFJ3"),d=t("utVh"),l=t("3Ukx"),v=t("HCau"),j=t("hykZ"),y=t("3iwL"),p=t("I0q5"),f=Object.defineProperty,g=Object.defineProperties,x=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,N=(n,o,r)=>o in n?f(n,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[o]=r,a=(n,o)=>{for(var r in o||(o={}))E.call(o,r)&&N(n,r,o[r]);if(c)for(var r of c(o))I.call(o,r)&&N(n,r,o[r]);return n},A=(n,o)=>g(n,x(o)),C=(n,o)=>{var r={};for(var s in n)E.call(n,s)&&o.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&c)for(var s of c(n))o.indexOf(s)<0&&I.call(n,s)&&(r[s]=n[s]);return r};const P={title:"ImagePicker",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-45/packages/expo-image-picker",packageName:"expo-image-picker"},O=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Configuration in app.json / app.config.js"},{depth:2,type:"text",title:"Usage"},{depth:2,type:"text",title:"Using ImagePicker with AWS S3"},{depth:2,type:"text",title:"Using ImagePicker with Firebase"},{depth:2,type:"text",title:"API"},{depth:2,type:"text",title:"Permissions"},{depth:3,type:"text",title:"Android"},{depth:3,type:"text",title:"iOS"}],b={meta:P,headings:O},u="wrapper";function i(n){var o=n,{components:r}=o,s=C(o,["components"]);return Object(e.b)(u,A(a(a({},b),s),{components:r,mdxType:"MDXLayout"}),Object(e.b)("p",null,Object(e.b)("strong",{parentName:"p"},Object(e.b)("inlineCode",{parentName:"strong"},"expo-image-picker"))," provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera."),Object(e.b)(y.a,{file:"sdk/imagepicker.mp4",loop:!1,mdxType:"Video"}),Object(e.b)(j.a,{android:!0,emulator:!0,ios:!0,simulator:!0,web:!0,mdxType:"PlatformsSection"}),Object(e.b)("h2",a({},{id:"installation"}),"Installation"),Object(e.b)(v.a,{mdxType:"APIInstallSection"}),Object(e.b)("h2",a({},{id:"configuration-in-appjson--appconfigjs"}),"Configuration in app.json / app.config.js"),Object(e.b)("p",null,"You can configure ",Object(e.b)("inlineCode",{parentName:"p"},"expo-image-picker")," using its built-in ",Object(e.b)("a",a({parentName:"p"},{href:"/guides/config-plugins/"}),"config plugin")," if you use config plugins in your project (",Object(e.b)("a",a({parentName:"p"},{href:"/build/introduction/"}),"EAS Build")," or ",Object(e.b)("inlineCode",{parentName:"p"},"expo run:[android|ios]"),"). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect."),Object(e.b)(h.a,{mdxType:"ConfigClassic"},Object(e.b)("p",null,"You can configure ",Object(e.b)("a",a({parentName:"p"},{href:"/versions/latest/sdk/imagepicker/#permissions"}),"the permissions for this library")," using ",Object(e.b)("a",a({parentName:"p"},{href:"/versions/latest/config/app/#infoplist"}),Object(e.b)("inlineCode",{parentName:"a"},"ios.infoPlist"))," and ",Object(e.b)("a",a({parentName:"p"},{href:"/versions/latest/config/app/#permissions"}),Object(e.b)("inlineCode",{parentName:"a"},"android.permissions")),".")),Object(e.b)(h.d,{mdxType:"ConfigReactNative"},Object(e.b)("p",null,"Learn how to configure the native projects in the ",Object(e.b)("a",a({parentName:"p"},{href:"https://github.com/expo/expo/tree/main/packages/expo-image-picker#installation-in-bare-react-native-projects"}),"installation instructions in the ",Object(e.b)("inlineCode",{parentName:"a"},"expo-image-picker")," repository"),".")),Object(e.b)(h.b,{mdxType:"ConfigPluginExample"},Object(e.b)("pre",null,Object(e.b)("code",a({parentName:"pre"},{className:"language-json"}),`{
  "expo": {
    "plugins": [
      [
        "expo-image-picker",
        {
          "photosPermission": "The app accesses your photos to let you share them with your friends."
        }
      ]
    ]
  }
}
`))),Object(e.b)(h.c,{properties:[{name:"photosPermission",platform:"ios",description:"A string to set the NSPhotoLibraryUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your photos"'},{name:"cameraPermission",platform:"ios",description:"A string to set the NSCameraUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your camera"'},{name:"microphonePermission",platform:"ios",description:"A string to set the NSMicrophoneUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your microphone"'}],mdxType:"ConfigPluginProperties"}),Object(e.b)("h2",a({},{id:"usage"}),"Usage"),Object(e.b)(p.a,{label:"Image Picker",dependencies:["expo-image-picker"],mdxType:"SnackInline"},Object(e.b)("pre",null,Object(e.b)("code",a({parentName:"pre"},{className:"language-js"}),`import React, { useState, useEffect } from 'react';
import { Button, Image, View, Platform } from 'react-native';
import * as ImagePicker from 'expo-image-picker';

export default function ImagePickerExample() {
  const [image, setImage] = useState(null);

  const pickImage = async () => {
    // No permissions request is necessary for launching the image library
    let result = await ImagePicker.launchImageLibraryAsync({
      mediaTypes: ImagePicker.MediaTypeOptions.All,
      allowsEditing: true,
      aspect: [4, 3],
      quality: 1,
    });

    console.log(result);

    if (!result.cancelled) {
      setImage(result.uri);
    }
  };

  return (
    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>
      <Button title="Pick an image from camera roll" onPress={pickImage} />
      {image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}
    </View>
  );
}
`))),Object(e.b)("p",null,"When you run this example and pick an image, you will see the image that you picked show up in your app, and something similar to the following logged to your console:"),Object(e.b)("pre",null,Object(e.b)("code",a({parentName:"pre"},{className:"language-javascript"}),`{
  "cancelled":false,
  "height":1611,
  "width":2148,
  "uri":"file:///data/user/0/host.exp.exponent/cache/cropped1814158652.jpg"
}
`)),Object(e.b)("h2",a({},{id:"using-imagepicker-with-aws-s3"}),"Using ImagePicker with AWS S3"),Object(e.b)("p",null,"Please refer to the ",Object(e.b)("a",a({parentName:"p"},{href:"https://github.com/expo/examples/tree/master/with-aws-storage-upload"}),"with-aws-storage-upload example"),". Follow ",Object(e.b)("a",a({parentName:"p"},{href:"https://docs.amplify.aws/"}),"Amplify docs")," to set your project up correctly."),Object(e.b)("h2",a({},{id:"using-imagepicker-with-firebase"}),"Using ImagePicker with Firebase"),Object(e.b)("p",null,"Please refer to the ",Object(e.b)("a",a({parentName:"p"},{href:"https://github.com/expo/examples/tree/master/with-firebase-storage-upload"}),"with-firebase-storage-upload example"),". Make sure you follow the ",Object(e.b)("a",a({parentName:"p"},{href:"/../../../../../../../guides/using-firebase"}),'"Using Firebase"')," docs to set your project up correctly."),Object(e.b)("h2",a({},{id:"api"}),"API"),Object(e.b)("pre",null,Object(e.b)("code",a({parentName:"pre"},{className:"language-js"}),`import * as ImagePicker from 'expo-image-picker';
`)),Object(e.b)(l.a,{packageName:"expo-image-picker",apiName:"ImagePicker",mdxType:"APISection"}),Object(e.b)("h2",a({},{id:"permissions"}),"Permissions"),Object(e.b)("h3",a({},{id:"android"}),"Android"),Object(e.b)("p",null,"The following permissions are added automatically through the library ",Object(e.b)("strong",{parentName:"p"},"AndroidManifest.xml"),"."),Object(e.b)(d.a,{permissions:["CAMERA","READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE"],mdxType:"AndroidPermissions"}),Object(e.b)("h3",a({},{id:"ios"}),"iOS"),Object(e.b)("p",null,"The following usage description keys are used by the APIs in this library."),Object(e.b)(d.b,{permissions:["NSMicrophoneUsageDescription","NSPhotoLibraryUsageDescription","NSCameraUsageDescription"],mdxType:"IOSPermissions"}))}i.isMDXComponent=!0},ufKf:function(S,m,t){"use strict";t.d(m,"a",function(){return e}),t.d(m,"b",function(){return h});var e="https://snack.expo.dev";function h(d){var l=d.templateId,v=d.code,j=d.files,y=d.baseURL,p={};return j&&Object.keys(j).forEach(function(f){var g=j[f],x=/\.(jsx?|tsx?|json|md)$/i.test(f);x?p[f]={type:"CODE",url:g.match(/^https?:\/\//)?g:"".concat(y,"/").concat(g)}:p[f]={type:"ASSET",contents:g}}),l?p["App.js"]={type:"CODE",url:"".concat(y,"/").concat(l,".js")}:v&&(p["App.js"]={type:"CODE",contents:v}),p}}},[["ICng",1,0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]]]);
